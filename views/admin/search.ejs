<%- include('../layouts/header.ejs') %>

<div class="container-fluid">
  <div class="row">
  <%- include('../layouts/sidebar.ejs') %>


  <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      <br>

<div class="d-flex justify-content-between flex-wrap flex-md nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Search</h1>
  </div>
  

<!-- Display searched users or all users -->
<!-- <ul>
  <% users.forEach(user => { %>
    <li><strong>Username:</strong> <%= user.name %>, <strong>Email:</strong> <%= user.email %></li>
  <% }); %>
</ul> -->



<div class="table-responsive">
  <% if (users != "") { %>
  
    <table class="table table-striped table-sm">
      <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Email </th>
          <th scope="col">phone Number</th>

          <!-- <th scope="col">Action</th> -->
        </tr>
      </thead>
      <tbody>
        <% users.forEach(element => {
          for(let i=0;i<users.length;i++){
            %>
          <tr class="align-middle">
            <td><%= element.name %></td>
            <td><%= element.email %></td>
            <td><%= element.mobile %></td>

            <td>

              <div class="d-flex flex-row justify-content-end gap-2">

                <a href="/admin/edit-user?id=<%= users[i]._id %>" type="button" class="btn btn-warning btn-small">
                  <i class="bi bi-pencil"></i>
                </a>
  
                <form action="/admin/delete-user?id=<%= users[i]._id %>" method="POST" class="position-relative">
                  <button type="submit" class="btn btn-danger btn-small">
                    <i class="bi bi-person-x"></i>
                  </button>
                </form>
  
              </div>

            </td>
          </tr>
        <%} }) %>
      </tbody>
    </table>

  <% } else { %>
    <h2>No results found.</h2>
  <% } %>

</div>
